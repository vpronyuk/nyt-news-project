!function(){var e=document.querySelector(".form-header__icon-search"),t=document.querySelector(".form-header__input"),a=document.querySelector(".pagination"),n=window.location.pathname,o=document.getElementById("home__link"),c=document.getElementById("favorite__link"),r=document.getElementById("read__link");n.includes("/index.html")||n.includes("/read.html")||n.includes("/favorite.html")||n.includes("/index.html"),e.addEventListener("click",(function(){document.documentElement.clientWidth<768&&(t.classList.toggle("leaving-input"),e.style.position="absolute",e.style.top="5px",e.style.left="14px");t.classList.contains("leaving-input")||(e.style.position="")}));document.querySelector(".form-header__checkbox");var s=document.querySelector(".checkbox-header__input"),d=document.querySelector(".form-header__icon-sun"),i=document.querySelector(".form-header__icon-moon"),l=document.querySelector(".form-header__dark"),m=document.querySelector(".form-header__light"),u=document.querySelector(".icon-mob-menu"),h=document.querySelector(".header"),_=document.getElementById("searchClear"),k=document.querySelector(".mob-menu__checkbox-input"),p=document.querySelector(".mob-nav-menu"),f=document.querySelector(".mob-icon-sun"),y=document.querySelector(".mob-icon-moon"),v=document.querySelector(".button-menu__icon-close"),g=document.querySelector(".footer__svg-globe"),L=document.querySelector(".container-read"),S=document.querySelectorAll(".accordion"),b=document.querySelector(".calendar__input");if(n.includes("/read.html")&&"[]"!==localStorage.getItem("read-more")&&null!==L){L.addEventListener("click",(function(e){var t=e.target.closest(".accordion");if(!t)return;"matrix(1, 0, 0, 1, 0, 0)"===getComputedStyle(t,"::after").getPropertyValue("transform")?t.style.setProperty("--rotate","rotate(180deg)"):t.style.setProperty("--rotate","rotate(0deg)")}))}function w(){document.body.classList.add("body--dark"),d.classList.add("form-header__icon-sun--dark"),i.classList.add("form-header__icon-moon--dark"),l.classList.add("form-header__dark--dark"),m.classList.add("form-header__light--dark"),t.classList.add("form-header__input--dark"),e.classList.add("form-header__icon-search--dark"),u.classList.add("icon-mob-menu--dark"),h.classList.add("header--dark"),_.classList.add("search__clear--dark"),p.classList.add("mob-nav-menu--dark"),f.classList.add("mob-icon-sun--dark"),y.classList.add("mob-icon-moon--dark"),g.classList.add("icon__web--dark"),n.includes("/read.html")&&"[]"!==localStorage.getItem("read-more")&&null!==S&&S.forEach((function(e){e.classList.add("accordion--dark")})),n.includes("/index.html")&&b.classList.add("calendar__input--dark")}function q(){document.body.classList.remove("body--dark"),d.classList.remove("form-header__icon-sun--dark"),i.classList.remove("form-header__icon-moon--dark"),l.classList.remove("form-header__dark--dark"),m.classList.remove("form-header__light--dark"),t.classList.remove("form-header__input--dark"),e.classList.remove("form-header__icon-search--dark"),u.classList.remove("icon-mob-menu--dark"),h.classList.remove("header--dark"),_.classList.remove("search__clear--dark"),p.classList.remove("mob-nav-menu--dark"),f.classList.remove("mob-icon-sun--dark"),y.classList.remove("mob-icon-moon--dark"),v.classList.add("button-menu__icon-close--dark"),g.classList.remove("icon__web--dark"),n.includes("/read.html")&&"[]"!==localStorage.getItem("read-more")&&null!==S&&S.forEach((function(e){e.classList.remove("accordion--dark")})),n.includes("/index.html")&&b.classList.remove("calendar__input--dark")}function x(e){e?(w(),s.checked=!0,k.checked=!0):(q(),s.checked=!1,k.checked=!1),localStorage.setItem("isDarkMode",e)}s.addEventListener("change",(function(){x(s.checked)})),k.addEventListener("change",(function(){var e=k.checked;e?(w(),s.checked=!0):(s.checked=!1,q());k.setAttribute("checked","checked"),localStorage.setItem("isDarkMode",e)})),x(JSON.parse(localStorage.getItem("isDarkMode"))||!1),JSON.parse(localStorage.getItem("isDarkMode"))?(k.checked=!0,s.checked=!0,w()):(k.checked=!1,s.checked=!1,q()),n.includes("/index.html")?o.classList.add("current"):n.includes("/favorite.html")?c.classList.add("current"):n.includes("/read.html")?r.classList.add("current"):o.classList.add("current");var E=document.querySelector(".form-header"),I=document.querySelector(".list-news"),C=document.querySelector(".empty"),M=document.querySelector(".weather-card");E.addEventListener("submit",(function(e){e.preventDefault();var o=t.value.trim();if(n.includes("/index.html")){var c=document.querySelector(".calendar__input").dataset.date.split("."),r="".concat(c[2],"-").concat(c[1].padStart(2,"0"),"-").concat(c[0].padStart(2,"0"));if(""===o)I.innerHTML="",C.style.display="block",M.style.display="none",a.style.display="none";else(function(e,t){return fetch("\n  https://api.nytimes.com/svc/search/v2/articlesearch.json?api-key=".concat(B,"&q=").concat(e,"&fq=pub_date:(").concat(t,")")).then((function(e){if(404===e.status)throw new Error(e.status);return e.json()}))})(o,r).then((function(e){if(e.response.docs.length){a.style.display="block",C.style.display="none",M.style.display="block";var t=e.response.docs.slice(0,9);I.innerHTML=t.map((function(e){var t=e.headline.main,a=e.lead_paragraph;a.length>110&&(a=a.slice(0,107)+"...");var n=e.web_url,o=new Date(e.pub_date),c=o.getDate().toString().padStart(2,"0"),r=(o.getMonth()+1).toString().padStart(2,"0"),s=o.getFullYear().toString(),d="".concat(c,"/").concat(r,"/").concat(s),i=e._id,l=e.section_name,m=e.multimedia.length>0?"https://www.nytimes.com/".concat(e.multimedia[0].url):"https://source.unsplash.com/featured/?nature";return'<li class="list-news__item" data-id="'.concat(i,'">\n  <article class="item-news__article">\n       <div class="item-news__wrapper-img">\n <img class="item-news__img" src="').concat(m,'" alt="photo">\n<p class="item-news__category">').concat(l,'</p>\n<div class="article_flag">\n                  <button class="article_flag--add"><span class="article_flag_text">Add to favorite</span>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="none" stroke="#4440f7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z"/></svg>\n                  </button>\n                  <button class="article_flag--remove is-hidden"><span class="article_flag_text">Remove from favorite</span>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="#4b48da" stroke="#4b48da" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z"/></svg>\n                  </button>\n                </div>\n         </div>\n         <h2 class="item-news__title">').concat(t,'</h2>\n         <p class="item-news__description">').concat(a,'</p>\n         <div class="item-news__info">\n           <span class="item-news__info-date">').concat(d,'</span>\n           <a class="item-news__info-link" href="').concat(n,'" target="_blank" rel="noreferrer noopener">Read more</a>\n         </div>\n       </article>\n     </li>')})).join(""),localStorage.setItem("nytimesNews",JSON.stringify(e.response.docs))}else a.style.display="none",C.style.display="block",M.style.display="none",I.innerHTML=""})).catch((function(e){return console.log(e)}))}}));var B="Oibsmafk4s4CtvFNxqESgOWZuCdEVskz";var D=document.getElementById("searchClear");t.addEventListener("input",(function(){t.value&&document.documentElement.clientWidth>768?D.style.display="block":D.style.display="none"})),D.addEventListener("click",(function(){t.value="",D.style.display="none"}))}();
//# sourceMappingURL=read.c537645a.js.map
