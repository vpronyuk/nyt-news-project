{"mappings":"AAAA,MAAMA,EAAYC,SAASC,cAAc,UACnCC,EAAYF,SAASC,cAAc,uBAEnCE,EAAiBC,aAAaC,QAAQ,SACrB,OAAnBF,IACFJ,EAAUO,MAAMC,QAAU,QAC1BL,EAAUI,MAAME,QAAU,GAE5B,MAAMC,EAAWC,KAAKC,MAAMR,GAEtBS,EAAcZ,SAASC,cAAc,cAG3C,SAASY,EAAeC,GACtBF,EAAYG,UAAYD,C,CAmC1B,SAASE,EAAeC,GAEtB,OADgBA,EAASC,KAAIJ,GAjC/B,UAA8BK,MAC5BA,EAAKC,SACLA,EAAQC,QACRA,EAAOC,GACPA,EAAEC,SACFA,EAAQC,eACRA,EAAcC,IACdA,IAEA,MAAO,wCAAwCH,6IAGJF,6DACFC,4oCAUJF,qDACKI,8FAEGC,6DACGC,yG,CAMbC,CAAqBZ,KAAKa,KAAK,G,CAvCpEf,EAAYgB,iBAAiB,SA+D7B,SAAiCC,GAC/B,GACyB,WAAvBA,EAAIC,OAAOC,SACY,SAAvBF,EAAIC,OAAOC,SACY,QAAvBF,EAAIC,OAAOC,SACY,SAAvBF,EAAIC,OAAOC,QAEX,OAEoBF,EAAIC,OAC1B,MAAME,EAAWH,EAAIC,OAAOG,QAAQ,sBAAsBC,QAAQZ,GAElE,IAAIa,EAAU/B,aAAaC,QAAQ,UA7BrC,SAA+B+B,EAAcJ,GAC3C,MAAMK,EAAaD,EAAaE,QAAO,CAACC,EAAKC,KACvCA,EAAKlB,KAAOU,GAGhBO,EAAIE,KAAKD,GAFAD,IAIR,IAEGG,EAAahC,KAAKiC,UAAUN,GAClCjC,aAAawC,QAAQ,QAASF,GAE9B,MAAMG,EAAiBnC,KAAKC,MAAMP,aAAaC,QAAQ,UAEvDQ,EAD2BG,EAAe6B,G,CAkB1CC,CADmBpC,KAAKC,MAAMwB,GACMH,E,IAjCtCnB,EADmBG,EAAeP","sources":["src/js/favorite.js"],"sourcesContent":["const emptyPage = document.querySelector('.empty');\nconst container = document.querySelector('.favorite-container');\n\nconst objFromStorale = localStorage.getItem('cards');\nif (objFromStorale === '[]') {\n  emptyPage.style.display = 'block';\n  container.style.padding = 0;\n}\nconst objParse = JSON.parse(objFromStorale);\n\nconst newsWrapper = document.querySelector('.list-news');\nnewsWrapper.addEventListener('click', addRemoveToLocalStorage);\n\nfunction updateNewsList(el) {\n  newsWrapper.innerHTML = el;\n}\n\nfunction createFavoriteMarkup({\n  title,\n  imageUrl,\n  section,\n  id,\n  abstract,\n  published_date,\n  url,\n}) {\n  return `<li class=\"list-news__item\" data-id=\"${id}\">\n      <article class=\"item-news__article\">\n        <div class=\"item-news__wrapper-img\">\n          <img class=\"item-news__img\" src=\"${imageUrl}\" alt=\"photo\">\n          <p class=\"item-news__category\">${section}</p>\n           <div class=\"article_flag\">\n          <button class=\"article_flag--add is-hidden\"><span class=\"article_flag_text\">Add to favorite</span>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"none\" stroke=\"#4440f7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z\"/></svg>\n                  </button>\n                  <button class=\"article_flag--remove \"><span class=\"article_flag_text\">Remove from favorite</span>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"#4b48da\" stroke=\"#4b48da\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z\"/></svg>\n                  </button>\n                  </div>\n        </div>\n        <h2 class=\"item-news__title\">${title}</h2>\n        <p class=\"item-news__description\">${abstract}</p>\n        <div class=\"item-news__info\">\n          <span class=\"item-news__info-date\">${published_date}</span>\n          <a class=\"item-news__info-link\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n        </div>\n      </article>\n    </li>`;\n}\nfunction markupFavorite(objParse) {\n  const markFav = objParse.map(el => createFavoriteMarkup(el)).join('');\n  return markFav;\n}\n\nconst baseMArkUp = markupFavorite(objParse);\nupdateNewsList(baseMArkUp);\n\nfunction updateStorageFavotite(parseStorage, btnDivID) {\n  const newStorage = parseStorage.reduce((acc, card) => {\n    if (card.id === btnDivID) {\n      return acc;\n    }\n    acc.push(card);\n    return acc;\n  }, []);\n\n  const strStorage = JSON.stringify(newStorage);\n  localStorage.setItem('cards', strStorage);\n\n  const updatedStorage = JSON.parse(localStorage.getItem('cards'));\n  const markFromUpdStarage = markupFavorite(updatedStorage);\n  updateNewsList(markFromUpdStarage);\n}\n\nfunction addRemoveToLocalStorage(evt) {\n  if (\n    evt.target.tagName !== 'BUTTON' &&\n    evt.target.tagName !== 'SPAN' &&\n    evt.target.tagName !== 'svg' &&\n    evt.target.tagName !== 'path'\n  ) {\n    return;\n  }\n  let btnAddtoStorage = evt.target;\n  const btnDivID = evt.target.closest('li.list-news__item').dataset.id;\n\n  let storage = localStorage.getItem('cards');\n  let parseStorage = JSON.parse(storage);\n  updateStorageFavotite(parseStorage, btnDivID);\n}\n"],"names":["$f2b37c882cc80f12$var$emptyPage","document","querySelector","$f2b37c882cc80f12$var$container","$f2b37c882cc80f12$var$objFromStorale","localStorage","getItem","style","display","padding","$f2b37c882cc80f12$var$objParse","JSON","parse","$f2b37c882cc80f12$var$newsWrapper","$f2b37c882cc80f12$var$updateNewsList","el","innerHTML","$f2b37c882cc80f12$var$markupFavorite","objParse1","map","title","imageUrl","section","id","abstract","published_date","url","$f2b37c882cc80f12$var$createFavoriteMarkup","join","addEventListener","evt","target","tagName","btnDivID","closest","dataset","storage","parseStorage","newStorage","reduce","acc","card","push","strStorage","stringify","setItem","updatedStorage","$f2b37c882cc80f12$var$updateStorageFavotite"],"version":3,"file":"favorite.c3ce9643.js.map"}