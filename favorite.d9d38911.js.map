{"mappings":"YAAA,IAAMA,EAAYC,SAASC,cAAc,UACnCC,EAAYF,SAASC,cAAc,uBAEnCE,EAAiBC,aAAaC,QAAQ,SACrB,OAAnBF,IACFJ,EAAUO,MAAMC,QAAU,QAC1BL,EAAUI,MAAME,QAAU,GAE5B,IAAMC,EAAWC,KAAKC,MAAMR,GAEtBS,EAAcZ,SAASC,cAAc,cAG3C,SAASY,EAAeC,GACtBF,EAAYG,UAAYD,C,CAmC1B,SAASE,EAAeC,GAEtB,OADgBA,EAASC,KAAI,SAAAJ,G,OAhC7BK,GAD4BC,EAiC4BN,GAhCxDK,MACAE,EAF4BD,EAE5BC,SACAC,EAH4BF,EAG5BE,QACAC,EAJ4BH,EAI5BG,GACAC,EAL4BJ,EAK5BI,SACAC,EAN4BL,EAM5BK,eACAC,EAP4BN,EAO5BM,IAEO,wCAGoCC,OAHIJ,EAAG,6IAITI,OADEN,EAAS,6DAWfM,OAVIL,EAAQ,4oCAWPK,OADLR,EAAM,qDAGEQ,OAFHH,EAAS,8FAGHG,OADHF,EAAe,6DACRE,OAAJD,EAAI,0GA3BtD,IAA8BN,EAC5BD,EACAE,EACAC,EACAC,EACAC,EACAC,EACAC,C,IA0B6DE,KAAK,G,CAvCpEhB,EAAYiB,iBAAiB,SA+D7B,SAAiCC,GAC/B,GACyB,WAAvBA,EAAIC,OAAOC,SACY,SAAvBF,EAAIC,OAAOC,SACY,QAAvBF,EAAIC,OAAOC,SACY,SAAvBF,EAAIC,OAAOC,QAEX,OAEoBF,EAAIC,OAA1B,IACME,EAAWH,EAAIC,OAAOG,QAAQ,sBAAsBC,QAAQZ,GAE9Da,EAAUhC,aAAaC,QAAQ,UA7BrC,SAA+BgC,EAAcJ,GAC3C,IAAMK,EAAaD,EAAaE,QAAO,SAACC,EAAKC,GAC3C,OAAIA,EAAKlB,KAAOU,GAGhBO,EAAIE,KAAKD,GAFAD,C,GAIR,IAEGG,EAAajC,KAAKkC,UAAUN,GAClClC,aAAayC,QAAQ,QAASF,GAI9B9B,EAD2BG,EADJN,KAAKC,MAAMP,aAAaC,QAAQ,W,CAmBvDyC,CADmBpC,KAAKC,MAAMyB,GACMH,E,IAjCtCpB,EADmBG,EAAeP,G","sources":["src/js/favorite.js"],"sourcesContent":["const emptyPage = document.querySelector('.empty');\nconst container = document.querySelector('.favorite-container');\n\nconst objFromStorale = localStorage.getItem('cards');\nif (objFromStorale === '[]') {\n  emptyPage.style.display = 'block';\n  container.style.padding = 0;\n}\nconst objParse = JSON.parse(objFromStorale);\n\nconst newsWrapper = document.querySelector('.list-news');\nnewsWrapper.addEventListener('click', addRemoveToLocalStorage);\n\nfunction updateNewsList(el) {\n  newsWrapper.innerHTML = el;\n}\n\nfunction createFavoriteMarkup({\n  title,\n  imageUrl,\n  section,\n  id,\n  abstract,\n  published_date,\n  url,\n}) {\n  return `<li class=\"list-news__item\" data-id=\"${id}\">\n      <article class=\"item-news__article\">\n        <div class=\"item-news__wrapper-img\">\n          <img class=\"item-news__img\" src=\"${imageUrl}\" alt=\"photo\">\n          <p class=\"item-news__category\">${section}</p>\n           <div class=\"article_flag\">\n          <button class=\"article_flag--add is-hidden\"><span class=\"article_flag_text\">Add to favorite</span>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"none\" stroke=\"#4440f7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z\"/></svg>\n                  </button>\n                  <button class=\"article_flag--remove \"><span class=\"article_flag_text\">Remove from favorite</span>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"#4b48da\" stroke=\"#4b48da\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z\"/></svg>\n                  </button>\n                  </div>\n        </div>\n        <h2 class=\"item-news__title\">${title}</h2>\n        <p class=\"item-news__description\">${abstract}</p>\n        <div class=\"item-news__info\">\n          <span class=\"item-news__info-date\">${published_date}</span>\n          <a class=\"item-news__info-link\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n        </div>\n      </article>\n    </li>`;\n}\nfunction markupFavorite(objParse) {\n  const markFav = objParse.map(el => createFavoriteMarkup(el)).join('');\n  return markFav;\n}\n\nconst baseMArkUp = markupFavorite(objParse);\nupdateNewsList(baseMArkUp);\n\nfunction updateStorageFavotite(parseStorage, btnDivID) {\n  const newStorage = parseStorage.reduce((acc, card) => {\n    if (card.id === btnDivID) {\n      return acc;\n    }\n    acc.push(card);\n    return acc;\n  }, []);\n\n  const strStorage = JSON.stringify(newStorage);\n  localStorage.setItem('cards', strStorage);\n\n  const updatedStorage = JSON.parse(localStorage.getItem('cards'));\n  const markFromUpdStarage = markupFavorite(updatedStorage);\n  updateNewsList(markFromUpdStarage);\n}\n\nfunction addRemoveToLocalStorage(evt) {\n  if (\n    evt.target.tagName !== 'BUTTON' &&\n    evt.target.tagName !== 'SPAN' &&\n    evt.target.tagName !== 'svg' &&\n    evt.target.tagName !== 'path'\n  ) {\n    return;\n  }\n  let btnAddtoStorage = evt.target;\n  const btnDivID = evt.target.closest('li.list-news__item').dataset.id;\n\n  let storage = localStorage.getItem('cards');\n  let parseStorage = JSON.parse(storage);\n  updateStorageFavotite(parseStorage, btnDivID);\n}\n"],"names":["$8bf2312eefa07846$var$emptyPage","document","querySelector","$8bf2312eefa07846$var$container","$8bf2312eefa07846$var$objFromStorale","localStorage","getItem","style","display","padding","$8bf2312eefa07846$var$objParse","JSON","parse","$8bf2312eefa07846$var$newsWrapper","$8bf2312eefa07846$var$updateNewsList","el","innerHTML","$8bf2312eefa07846$var$markupFavorite","objParse1","map","title","param","imageUrl","section","id","abstract","published_date","url","concat","join","addEventListener","evt","target","tagName","btnDivID","closest","dataset","storage","parseStorage","newStorage","reduce","acc","card","push","strStorage","stringify","setItem","$8bf2312eefa07846$var$updateStorageFavotite"],"version":3,"file":"favorite.d9d38911.js.map"}