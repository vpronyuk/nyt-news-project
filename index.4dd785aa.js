!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r);var n=r("8nrFW"),s=r("dAhAI");function o(e,t){var a=e.reduce((function(e,a){return a.id===t||e.push(a),e}),[]),i=JSON.stringify(a);localStorage.setItem("cards",i)}var l=document.querySelector(".list-news");l.addEventListener("click",(function(e){if(!("BUTTON"!==e.target.tagName&&"SPAN"!==e.target.tagName&&"svg"!==e.target.tagName&&"path"!==e.target.tagName||e.target.classList.contains("accordion")||e.target.classList.contains("container-read"))){var t=e.target.closest("article").childNodes[7].childNodes[1];if(e.target!==t){var a=e.target.closest("div.article_flag"),i=e.target.closest("li.list-news__item").dataset.id,r=e.target.closest("div").childNodes[1],n=e.target.closest("div").childNodes[3];r.classList.toggle("is-hidden"),n.classList.toggle("is-hidden");var s=localStorage.getItem("cards"),l=JSON.parse(s);if(o(l,i),a.hasAttribute("checked")){a.removeAttribute("checked");var d=localStorage.getItem("cards");o(JSON.parse(d),i)}else{a.setAttribute("checked",!0);var c=e.target.closest("li.list-news__item").dataset.id,g=e.target.closest("div.item-news__wrapper-img"),u=g.childNodes[1].src,h=g.childNodes[3].textContent,p=e.target.closest("article"),m=p.childNodes[3].textContent,f=p.childNodes[5].textContent,v=p.childNodes[7].childNodes[1].textContent,_=p.childNodes[7].childNodes[3].href;s=localStorage.getItem("cards");var w={id:c,imageUrl:u,section:h,title:m,abstract:f,published_date:v,url:_};(l=JSON.parse(s)).push(w);var N=JSON.stringify(l);localStorage.setItem("cards",N)}}}})),l.addEventListener("click",(function(t){if("A"===t.target.nodeName){t.target.setAttribute("data-is-read",!0);var a=t.target.parentNode.parentNode.parentNode,i=document.createElement("p");i.innerText="Already read",i.classList.add("have-read"),a.appendChild(i),a.style.opacity=.55;a.getAttribute("data-id");var r=t.target.closest("li.list-news__item").dataset.id,s=t.target.closest("div"),o=a.childNodes[1].childNodes[1].childNodes[1].getAttribute("src"),l=s.childNodes[3].textContent,d=t.target.closest("article"),c=d.childNodes[3].textContent,g=d.childNodes[5].textContent,u=d.childNodes[7].childNodes[1].textContent,h=d.childNodes[7].childNodes[3].href,p=(new Date).getTime(),m=new Date(p),f=localStorage.getItem("read-more"),v={id:r,imageUrl:o,section:l,title:c,abstract:g,published_date:u,url:h,time:m.toLocaleDateString("en-GB")},_=JSON.parse(f);e(n)(new Map(_.map((function(e){return[e.id,e]}))).values());_.push(v);var w=JSON.stringify(_);localStorage.setItem("read-more",w)}}));var d=document.querySelector(".weather-card"),c=document.querySelector(".calendar__input");function g(e){var t,a,i,r=e.title,n=e.media,s=e.section,o=e.id,l=e.abstract,d=e.published_date,c=e.url,g=(null==n||null===(t=n[0])||void 0===t||null===(a=t["media-metadata"])||void 0===a||null===(i=a[2])||void 0===i?void 0:i.url)||"https://upload.wikimedia.org/wikipedia/commons/1/14/No_Image_Available.jpg";l.length>110&&(l=l.slice(0,107)+"...");var u=new Date(d),h=u.getDate().toString().padStart(2,"0"),p=(u.getMonth()+1).toString().padStart(2,"0"),m=u.getFullYear().toString(),f="".concat(h,"/").concat(p,"/").concat(m);return'<li class="list-news__item" data-id="'.concat(o,'" data-pub_date="').concat(f,'"  >\n            <article class="item-news__article">\n              <div class="item-news__wrapper-img">\n                <img class="item-news__img" src="').concat(g,'" alt="photo">\n                <p class="item-news__category">').concat(s,'</p>\n                <div class="article_flag">\n                  <button class="article_flag--add"><span class="article_flag_text">Add to favorite</span>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="none" stroke="#4440f7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z"/></svg>\n                  </button>\n                  <button class="article_flag--remove is-hidden"><span class="article_flag_text">Remove from favorite</span>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="#4b48da" stroke="#4b48da" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z"/></svg>\n                  </button>\n                </div>\n              </div>\n              <h2 class="item-news__title">').concat(r,'</h2>\n              <p class="item-news__description">').concat(l,'</p>\n              <div class="item-news__info">\n                <span class="item-news__info-date">').concat(f,'</span>\n                <a class="item-news__info-link" href="').concat(c,'" target="_blank" rel="noreferrer noopener">Read more</a>\n              </div>\n            </article>\n          </li>')}(0,s.getPopularNews)().then((function(e){return e.results.map(g).join("")})).then((function(e){l.innerHTML=e,p.observe(c,u)})),localStorage.getItem("read-more")||localStorage.setItem("read-more","[]"),localStorage.getItem("cards")||localStorage.setItem("cards","[]");var u={attributes:!0},h=0,p=new MutationObserver((function(e,t){var a=!0,i=!1,r=void 0;try{for(var n,s=e[Symbol.iterator]();!(a=(n=s.next()).done);a=!0){n.value;if(0===h)h+=1;else{var o=c.dataset.date.split(".").join("/");d.style.display="none",Array.prototype.slice.call(l.childNodes).filter((function(e){return e.dataset.pub_date===o})).length>0?l.childNodes.forEach((function(e){e.dataset.pub_date!==o?e.style.display="none":e.style.display="block"})):(l.childNodes.forEach((function(e){return e.style.display="none"})),l.insertAdjacentHTML("afterbegin",'<li style="margin:0 auto"><img src="'.concat("https://cdn.dribbble.com/users/2382015/screenshots/6065978/media/8b4662f8023e4e2295f865106b5d3aa7.gif",'" alt="no news"></img></li>')))}}}catch(e){i=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw r}}}))}();
//# sourceMappingURL=index.4dd785aa.js.map
