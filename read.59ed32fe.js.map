{"mappings":"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","sources":["src/js/favorite_functions.js","src/js/read.js"],"sourcesContent":["export { addRemoveToLocalStorage, updateStorage };\n\nfunction addRemoveToLocalStorage(evt) {\n  if (\n    evt.target.tagName !== 'BUTTON' &&\n    evt.target.tagName !== 'SPAN' &&\n    evt.target.tagName !== 'svg' &&\n    evt.target.tagName !== 'path'\n  ) {\n    return;\n  }\n  if (\n    evt.target.classList.contains('accordion') ||\n    evt.target.classList.contains('container-read')\n  ) {\n    return;\n  }\n  const dateInCard = evt.target.closest('article').childNodes[7].childNodes[1];\n  if (evt.target === dateInCard) {\n    return;\n  }\n\n  let btnAddtoStorage = evt.target;\n\n  const btnDiv = btnAddtoStorage.closest('div.article_flag');\n  const btnDivID = evt.target.closest('li.list-news__item').dataset.id;\n\n  const addButton = evt.target.closest('div').childNodes[1];\n  const removeButton = evt.target.closest('div').childNodes[3];\n  addButton.classList.toggle('is-hidden');\n  removeButton.classList.toggle('is-hidden');\n\n  let storage = localStorage.getItem('cards');\n  let parseStorage = JSON.parse(storage);\n  updateStorage(parseStorage, btnDivID);\n\n  if (btnDiv.hasAttribute('checked')) {\n    btnDiv.removeAttribute('checked');\n    let storage = localStorage.getItem('cards');\n    const parseStorage = JSON.parse(storage);\n    updateStorage(parseStorage, btnDivID);\n    return;\n  }\n\n  btnDiv.setAttribute('checked', true);\n\n  const choosenCardID = evt.target.closest('li.list-news__item').dataset.id;\n  const choosenCardImg = evt.target.closest('div.item-news__wrapper-img');\n  const imageUrl = choosenCardImg.childNodes[1].src;\n  const section = choosenCardImg.childNodes[3].textContent;\n  const titleDiv = evt.target.closest('article');\n  const title = titleDiv.childNodes[3].textContent;\n  const abstract = titleDiv.childNodes[5].textContent;\n  const published_date = titleDiv.childNodes[7].childNodes[1].textContent;\n  const url = titleDiv.childNodes[7].childNodes[3].href;\n\n  storage = localStorage.getItem('cards');\n\n  // додаємо елемент\n  const params = {\n    id: choosenCardID,\n    imageUrl: imageUrl,\n    section: section,\n    title: title,\n    abstract: abstract,\n    published_date: published_date,\n    url: url,\n  };\n\n  parseStorage = JSON.parse(storage);\n  parseStorage.push(params);\n  const strStorage = JSON.stringify(parseStorage);\n  localStorage.setItem('cards', strStorage);\n}\n\n// _____\n\nfunction updateStorage(parseStorage, btnDivID) {\n  const newStorage = parseStorage.reduce((acc, card) => {\n    if (card.id === btnDivID) {\n      return acc;\n    }\n    acc.push(card);\n    return acc;\n  }, []);\n  const strStorage = JSON.stringify(newStorage);\n  localStorage.setItem('cards', strStorage);\n}\n","import { addRemoveToLocalStorage, updateStorage } from './favorite_functions';\n\nconst readContainer = document.querySelector('.container-read');\nreadContainer.addEventListener('click', addRemoveToLocalStorage);\n\nconst news = JSON.parse(localStorage.getItem('all'));\nconst readStorage = JSON.parse(localStorage.getItem('read-more'));\nconst uniqueStorage = [\n  ...new Map(readStorage.map(item => [item['id'], item])).values(),\n];\n\nfunction getDatesFromNews(arr) {\n  const result = [...new Set(arr.map(item => item.time.toString()))];\n  return result.sort((a, b) => new Date(b) - new Date(a));\n}\n\nfunction renderAccordion() {\n  if (\n    !localStorage.getItem('read-more') ||\n    localStorage.getItem('read-more') === '[]'\n  ) {\n    return;\n  }\n  const array = getDatesFromNews(uniqueStorage);\n  const acordions = array\n    .map(\n      item =>\n        `<button class=\"accordion\">${item}</button>\n        <ul class=\"panel list-news\">\n\n        </ul>\n        \n    `\n    )\n    .join('');\n  readContainer.innerHTML = acordions;\n}\n\nrenderAccordion();\n\nfunction createMarkup({\n  title,\n  media,\n  section,\n  id,\n  abstract,\n  published_date,\n  url,\n  imageUrl,\n}) {\n  const imageUrL =\n    media?.[0]?.['media-metadata']?.[2]?.url ||\n    `https://source.unsplash.com/featured/?nature`;\n\n  const MAX_SNIPPET_LENGTH = 110;\n  if (abstract.length > MAX_SNIPPET_LENGTH) {\n    abstract = abstract.slice(0, MAX_SNIPPET_LENGTH - 3) + '...';\n  }\n  const date = new Date(published_date);\n  const day = date.getDate().toString().padStart(2, '0');\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\n  const year = date.getFullYear().toString();\n  const formattedDate = `${day}/${month}/${year}`;\n  return `<li class=\"list-news__item\" data-id=\"${id}\" >\n            <article class=\"item-news__article\">\n              <div class=\"item-news__wrapper-img\">\n                <img class=\"item-news__img\" src=\"${imageUrl}\" alt=\"photo\">\n                <p class=\"item-news__category\">${section}</p>\n                <div class=\"article_flag\">\n                  <button class=\"article_flag--add\"><span class=\"article_flag_text\">Add to favorite</span>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"none\" stroke=\"#4440f7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z\"/></svg>\n                  </button>\n                  <button class=\"article_flag--remove is-hidden\"><span class=\"article_flag_text\">Remove from favorite</span>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"#4b48da\" stroke=\"#4b48da\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z\"/></svg>\n                  </button>\n                </div>\n              </div>\n              <h2 class=\"item-news__title\">${title}</h2>\n              <p class=\"item-news__description\">${abstract}</p>\n              <div class=\"item-news__info\">\n                <span class=\"item-news__info-date\">${formattedDate}</span>\n                <a class=\"item-news__info-link\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n              </div>\n            </article>\n          </li>`;\n}\n\nfunction accordionHandler(e) {\n  this.classList.toggle('active');\n\n  var panel = this.nextElementSibling;\n  console.log(panel);\n  const date = this.textContent;\n  const filtred = uniqueStorage.filter(item => item.time === date);\n  console.log(filtred);\n  const liel = filtred.map(createMarkup).join('');\n  panel.innerHTML = liel;\n  if (panel.style.display === 'flex') {\n    panel.style.display = 'none';\n  } else {\n    panel.style.display = 'flex';\n  }\n}\n\nvar acc = document.getElementsByClassName('accordion');\nvar i;\n\nfor (i = 0; i < acc.length; i++) {\n  acc[i].addEventListener('click', accordionHandler);\n}\n"],"names":["$f5cf84364efc901b$export$ebda9f2b28852a0d","parseStorage","btnDivID","newStorage","reduce","acc","card","id","push","strStorage","JSON","stringify","localStorage","setItem","$103c6abfc3a0e310$var$readContainer","document","querySelector","addEventListener","evt","target","tagName","classList","contains","dateInCard","closest","childNodes","btnDiv","dataset","addButton","removeButton","toggle","storage","getItem","parse","hasAttribute","removeAttribute","setAttribute","choosenCardID","choosenCardImg","imageUrl","src","section","textContent","titleDiv","title","abstract","published_date","url","href","params","$103c6abfc3a0e310$var$readStorage","$103c6abfc3a0e310$var$uniqueStorage","Map","map","item","values","$103c6abfc3a0e310$var$createMarkup","media","ref","ref1","ref2","length","slice","MAX_SNIPPET_LENGTH","date","Date","getDate","toString","padStart","getMonth","getFullYear","$103c6abfc3a0e310$var$accordionHandler","e","this","panel","nextElementSibling","console","log","filtred","filter","time","liel","join","innerHTML","style","display","acordions","Set","sort","a","b","$103c6abfc3a0e310$var$renderAccordion","$103c6abfc3a0e310$var$i","$103c6abfc3a0e310$var$acc","getElementsByClassName"],"version":3,"file":"read.59ed32fe.js.map"}